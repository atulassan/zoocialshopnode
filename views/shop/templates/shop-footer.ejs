<section class="new-footer">
  <div class="container">
    <div class="row">
      <div class="col-lg-7 col-md-12 col-sm-12 mb-3">
        <div class="row">
          <div class="col-lg-4 col-md-4 mb-3">
            <h3>ZOOCIAL</h3>
            <ul class="footer-menu-list" id="footerupd">
              <li><a class="text-gray" href="http://zoocial.ch" target="_blank">ZOOCIAL</a></li>
              <!-- <li><a class="text-gray" href="/mein_ubersicht">Meine Übersicht</a></li> -->
              <li><a class="text-gray" href="/cart">Mein Warenkorb</a></li>
              <!--<li><a class="text-gray" href="/meine_bestellungen">Meine Bestellungen</a></li>-->
            </ul>
          </div>
          <div class="col-lg-4 col-md-4 mb-3">
            <h3>Kundenservice</h3>
            <ul class="footer-menu-list">
              <li><a class="text-gray" href="/remi-produkte">Remi Produkte</a></li>
              <li><a class="text-gray" href="/versandkosten">Versandkosten</a></li>
              <li><a class="text-gray" href="/lieferung">Lieferung</a></li>
              <!-- <li><a class="text-gray" href="/ruckgabe_artikeln">Rückgabe von Artikeln</a></li> -->
              <li><a class="text-gray" href="/zahlungsarten">Zahlungsarten</a></li>
              <li><a class="text-gray" href="/faq">FAQ</a></li>
            </ul>
          </div>
          <div class="col-lg-4 col-md-4 mb-3">
            <h3>Informationen</h3>
            <ul class="footer-menu-list">
              <li><a class="text-gray" href="/ueberuns">Über uns</a></li>
              <li><a class="text-gray" href="/kontakt">Kontakt</a></li>
              <!-- <li><a class="text-gray" href="/medien">Medien</a></li>
              <li><a class="text-gray" href="/sponsoring">Sponsoring</a></li> -->
              <li><a class="text-gray" href="/dsgvo">Datenschutz</a></li>
              <li><a class="text-gray" href="/impressum">Impressum</a></li>
              <li><a class="text-gray" href="/agb">AGB</a></li>
              <!--<li><a class="text-gray" href="/nutzungsbedingung">Nutzungsbedingungen</a></li>-->
            </ul>
          </div>
        </div>
      </div>
      <div class="col-lg-5 col-md-12 col-sm-12 mb-3">
        <h3>Newsletter</h3>
        <div class="Newsletter">
          <!-- <div class="form-group">
                       <input type="email" class="form-control" placeholder="E-Mail-Adresse">
                        <a class="btn btn-primary btn-sm">Abonnieren</a>
                    </div> -->
          <form class="footerNews" action="/newsletterPost" id="newsletterPost">
            <input class="form-control" type="text" placeholder="E-Mail-Adresse" name="email" />
            <button type="submit" class="newslettersubmit">Abonnieren</button>
          </form>
          <div class="form-group">
            <div class="checkbox form-check-label">
              <input id="Zoocial" class="styled" name="domain" type="checkbox" value="1">
              <label for="Zoocial">ZOOCIAL</label>
            </div>
            <div class="checkbox form-check-label">
              <input id="Zoocialshop" class="styled" name="domain" type="checkbox" value="2">
              <label for="Zoocialshop">ZOOCIAL Shop</label>
            </div>
            <div class="checkbox form-check-label">
              <input id="4beeees" class="styled" name="domain" type="checkbox" value="3">
              <label for="4beeees">4beeees GmbH</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 col-md-3">
          <p class="copy-left">Copyright 2020 © 4beeees GmbH. All rights reserved.</p>
        </div>
        <div class="col-lg-6 col-md-3 my-auto">
          <ul class="footer-social-list">
            <li>
              <a class="text-gray" href="https://www.facebook.com/zoocial/" target="_blank">
                <i class="fa fa-facebook"></i>
              </a>
            </li>
            <li>
              <a class="text-gray" href="https://www.instagram.com/zoocial.ch/?hl=de" target="_blank">
                <i class="fa fa-instagram"></i>
              </a>
            </li>
            <li>
              <a class="text-gray" href="https://twitter.com/zoocial_ch" target="_blank">
                <i class="fa fa-twitter"></i>
              </a>
            </li>
            <li>
              <a class="text-gray" href="https://www.linkedin.com/company/4beeees-gmbh/" target="_blank">
                <i class="fa fa-linkedin"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Mobile Navbar-->
<div class="leftFilterStickyy">
  <ul class="filterList">
    <nav class="nav" role="navigation">
      <h4>Navigation</h4>
      <ul class="nav__list">
        <li>
          <input id="group-1" type="checkbox" hidden />
          <label for="group-1"><span class="fa fa-angle-right"></span> Katzen</label>
          <ul class="group-list">
            <li>
              <input id="sub-group-1" type="checkbox" hidden />
              <label for="sub-group-1"><span class="fa fa-angle-right"></span>Katzenfutter</label>
              <ul class="sub-group-list">
                <li><a href="#">Katzen-Trockenfutter</a></li>
                <li><a href="#">Katzen-Nassfutter</a></li>
                <li><a href="#">Katzensnacks</a></li>
                <li><a href="#">Nahrungsergänzung</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <input id="group-1" type="checkbox" hidden />
          <label for="group-1"><span class="fa fa-angle-right"></span>Hunde</label>
        </li>
        <li>
          <input id="group-1" type="checkbox" hidden />
          <label for="group-1"><span class="fa fa-angle-right"></span>Zubehör</label>
        </li>
        <li>
          <input id="group-1" type="checkbox" hidden />
          <label for="group-1"><span class="fa fa-angle-right"></span> Tierarzt ∕ Apotheke </label>
        </li>
      </ul>
    </nav>
  </ul>
</div>

<a href="javascript:;" class="scrollup"><i class="fa fa-angle-up" aria-hidden="true"></i></a>
<% //include ../modules/minicart %>
<div id="cartPopup" class="slide-form"></div>
<div id="wishpopup" class="slide-form"></div>

<!--remi Popup-->
<% include ../modules/remi-popup %>

<!--cookies popup-->
<div class="cookie-popup-overlay">
  <div class="popup">
    <p>Wir nutzen Cookies auf unserer Website. Einige von ihnen sind essenziell, während andere uns helfen, diese Website und Ihre Erfahrung zu verbessern. <a href="javascript:;" class="submit">Ich akzeptiere</a><a href="javascript:;" class="close">&times;</a></p>
  </div>
</div>
<!--end-->


<div class="popUp-backdrop"></div>
<script type="text/javascript" src="/js/vendor/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="/js/vendor/popper.min.js"></script>
<script type="text/javascript" src="/js/vendor/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/vendor/jquery.mCustomScrollbar.js"></script>
<script type="text/javascript" src="/js/vendor/owl.carousel.min.js"></script>
<script type="text/javascript" src="/js/vendor/wt_validator.js"></script>
<script type="text/javascript" src="/js/siteutils.js?version=6"></script>
<script type="text/javascript" src="/js/main.js"></script>

<% console.log(metaInfo); %>

<% if(parseInt(Object.keys(metaInfo).length) > 0 && metaInfo.page != 'home') { %>
  <script type="text/javascript" src="/js/vendor/alertify.min.js"></script>
  <script type="text/javascript" src="/js/vendor/lazyload.js"></script>
  <script type="text/javascript" src="/js/vendor/rating.js"></script>
  <script type="text/javascript" src="/js/vendor/ckeditor.js"></script>
  <script type="text/javascript" src="/js/vendor/bootstrap-datepicker.min.js"></script>
  <script type="text/javascript" src="/js/vendor/eagle.gallery.min.js"></script>
  <script type="text/javascript">

  $(document).ready(function ($) {

    //CKEDITOR
    CKEDITOR.disableAutoInline = true;

    //RATING ISSUE
    jQuery("#PostRating").rating({
        "value": 5,
        "click": function (e) {
            console.log(e);
            $("#review_count").val(e.stars);
        }
    });

    $("#geburtsdatum").datepicker({
        changeMonth: true,
        changeYear: true,
        showOtherMonths: true,
        selectOtherMonths: true,
        dateFormat: 'dd.mm.yy'
    });

    $('#product-detail').eagleGallery({
        miniSliderArrowPos: 'inside',
        miniSliderArrowStyle: 2,
        changeMediumStyle: true,
        autoPlayMediumImg: true,
        openGalleryStyle: 'transform',
        bottomControlLine: true,
        theme: 'light',
        miniSlider: {
            navigation: true,
            pagination: false,
            navigationText: false,
            rewindNav: false,
            theme: 'mini-slider',
            responsiveBaseWidth: '.eagle-gallery',
            itemsCustom: [[0, 1], [250, 2], [450, 5], [650, 5], [850, 5], [1050, 6], [1250, 7], [1450, 8]],
            margin: 1
        }
    });

  });

  </script>
<% } %>  

<script type="text/javascript">

async function getData(url = '', restype = 'text') {
    try {
        const response = await fetch(url);
        return (restype == 'json') ? response.json() : response.text();
    } catch (error) {
        console.error('Error:', error);
    }
}

async function postData(url = '', inputdata = {}, restype = 'json') {

    var method = inputdata.method;

    try {
        const response = await fetch(url, {
            method: method, // or 'PUT'
            body: JSON.stringify(inputdata.data), // data can be `string` or {object}!
            headers: {
                'Content-Type': 'application/json'
            }
        });

        if (restype == 'json') {
            const jsondata = await response.json();
            console.log('Success:', JSON.stringify(jsondata));
            return jsondata;
        } else {
            const textdata = await response.text();
            console.log('Success:', textdata);
            return textdata;
        }
        //console.log('Success:', JSON.stringify(response));
        //return (restype == 'json') ? response.json() : response.text();
    } catch (error) {
        console.error('Error:', error);
    }
}

jQuery(window).load(function () {
  var menu_h = $('.header_login').height();
      //$('.banner-slider').css({ "marginTop": menu_h });
      $('.topCommonPadding').css({ "marginTop": menu_h });
    });
    
</script>

<script type="text/javascript">

  //window.history.replaceState(null, null, "?sud=125&val=312")

  var wtValidatorMsgs = {
    "notb": "[TITLE] Feld kann nicht leer sein",
    "up": "Must be upload [TITLE]",
    "s": "Keine Sonderzeichen erlaubt",
    "spl": "sollte eine Mischung aus Buchstaben und Zahlen sein",
    "rep": "Das Passwort sollte sich nicht wiederholen",
    "inc": "Do not use incremental and repeating characters such as aaa, 123, wxyz, etc.",
    "e": "[TITLE] muss ein gültiges E-Mail-Format haben Ex : example@gmail.com",
    "no": "muss eine gültige Nummer sein",
    "pas": "Passwort stimmt nicht überein",
    "max": "muss kleiner oder gleich 38 Zeichen sein",
    "min": "Mindestens 6 Zeichen",
    "wmax": "[TITLE] muss kleiner oder gleich sein [SIZE] Wörter",
    "wmin": "[TITLE] muss größer oder gleich sein [SIZE] Wörter"
  };

  jQuery(window).load(function () {
    //jQuery("#bar").css('width', '100%');
    //jQuery(".loader").fadeOut(1000);
    jQuery('#preloader').fadeOut(250, function () { jQuery(this).remove(); });
  });

  $(document).ready(function ($) {

    var progress = setInterval(function () {
      var $bar = $("#bar");
      if ($bar.width() >= 600) {
        clearInterval(progress);
      } else {
        $bar.width($bar.width() + 60);
      }
    }, 800);

    jQuery("#registerform, #myaccount, #loginform, #checkoutform, #oneguestregister, #changepassword, #tokengenrate, #forgotpassword, #supportForm").validate({
      position: "top"
    });

  });

</script>

<% customeScript = typeof customeScript !== 'object' ? {} : customeScript %>
<% //console.log(parseInt(Object.keys(customeScript).length)); %>
<% if(parseInt(Object.keys(customeScript).length) > 0) { %>
<script type="text/javascript">

lazyload();  

function refreshPage () {
      var page_y = document.getElementsByTagName("body")[0].scrollTop;
      //window.location.href = window.location.href.split('?')[0] + '?page_y=' + page_y;
      window.location.href = window.location;
  }
  window.onload = function () {
      setTimeout(refreshPage, 3000000);
      if ( window.location.href.indexOf('page_y') != -1 ) {
          var match = window.location.href.split('?')[1].split("&")[0].split("=");
          document.getElementsByTagName("body")[0].scrollTop = match[1];
      }
  }

  jQuery(function ($) {

    //product Filter
    jQuery(document).on('change', '.azflt, .priceflt, .noflt, .pageflt', function () {
      jQuery('.shopoverlay').show();
      jQuery('.spage').val(0);
      jQuery('.pageloader').attr('data-visible', 1);
      jQuery('#filtersubmit').trigger('click');
    });

    //Product Submit filter
    jQuery(document).on('submit', 'form#productfilter', function (e) {
      e.preventDefault();
      var formdata = jQuery(this).serialize();
      var page = parseInt(jQuery('.spage').val());
      var dataload = parseInt(jQuery('.dataload').val());
      jQuery('.spage').val(page + 1);
      //console.log(formdata);
      //return false;
      jQuery.get('/productupdate', formdata, function (res) {
        var href = new URL(window.location);
        console.log(res);
        jQuery('.pageloader').hide();
        jQuery('.shopoverlay').hide();
        if(res.status) {
            if(res.page > 1) {
                jQuery('.shop_products').append(res.products);
                jQuery('.dataload').val(res.page);
                var href = new URL(window.location);
                href.searchParams.set('page', res.page);
                window.history.replaceState(null, null, href);
                let pcount = jQuery('.pcount').attr('data-pcount');
                jQuery('.pcount').attr('data-pcount', (parseInt(pcount) + parseInt(res.count))).empty().text((parseInt(pcount)+ parseInt(res.count)));                                        
                console.log('page > 1');
              } else {
                jQuery('.shop_products').empty().append(res.products);
                jQuery('.dataload').val(res.page);
                var href = new URL(window.location);
                href.searchParams.set('page', res.page);
                window.history.replaceState(null, null, href);
                let pcount = jQuery('.pcount').attr('data-pcount');
                jQuery('.pcount').attr('data-pcount', parseInt(res.count)).empty().text(parseInt(res.count));
                console.log('page 1');
            }
        } else {
            if(parseInt(res.page) === 1) {
                let html = '<div class="col-lg-12">';
                html += '<div class="noProductListing">';
                html += '<img src="https://zoocialshop.ch/images/noProductList.jpg" alt="">';
                html += '<h3>momentan nicht verfügbar</h3>';
                html += '</div>';			
                html += '</div>';
                jQuery('.shop_products').empty().append(html);
                jQuery('.dataload').val(1);
                console.log('no Products');
                jQuery('.pcount').attr('data-pcount', parseInt(res.count)).empty().text(parseInt(res.count));
            }
        }
        /*if (res.hasOwnProperty('status') && typeof (res) == 'object') {
            console.log('test success');
            jQuery('.pageloader').attr('data-visible', 0);
        } else {
            if (page >= 1) {
                console.log('Many');
                jQuery('.shop_products').append(res);
                jQuery('.dataload').val(dataload + 1);
            } else {
                console.log('One');
                //jQuery('.shop_products').empty().append(res).hide().fadeIn(100);
                jQuery('.shop_products').empty().append(res);
            }
        }*/
        lazyload();
        jQuery('[data-toggle="tooltip"]').tooltip();
      });
      jQuery("#loadmore").removeAttr('disabled');
      return false;
    });

    jQuery(window).scroll(function () {
      var winScrlTop = parseInt(jQuery(window).scrollTop());
      var cnt = jQuery('.shop_products');
      var isLoadEnable = parseInt(jQuery('.pageloader').attr('data-visible'));
      var getFinalHeight = parseInt(cnt.height() / 6 + cnt.offset().top);
      console.log("Scroll Top: " + winScrlTop);
      console.log("Shop Height: " + parseInt(cnt.height()));
      console.log("Final Height: " + getFinalHeight);

      if (parseInt(winScrlTop) >= getFinalHeight) {
          console.log('end Reached');
          var page = parseInt(jQuery('.spage').val());
          var dataload = parseInt(jQuery('.dataload').val());
          if (page == dataload && isLoadEnable) {
              jQuery('.pageloader').show();
              jQuery('#filtersubmit').trigger('click');
          }
      }

    });

    //filters onload
    /*jQuery(window).on('load', function () {
        var data = {};
        jQuery.get('/filters', data, function (res) {
          jQuery('#tfilters').append(res);
          jQuery(".attr_lebensphase ul").mCustomScrollbar({
            theme: "light"
          });
        });
    });*/
    
    /*const urlParams = new URLSearchParams(window.location.search);
    urlParams.set('size','newSrc');
    var newParams = urlParams.toString()*/

    /*var href = new URL(window.location);
    href.searchParams.set('page', '1');
    console.log(href.toString());
    window.history.replaceState(null, null, href);*/

  });        
</script>
<% } %>

<!--
<script type="text/javascript" src="https://maps.google.com/maps/api/js?key=AIzaSyB3D1_mbUXoQXt9S-ZRcnf55Jx51g_pezM&libraries=places"></script>
<script type="text/javascript">
  // When the window has finished loading create our google map below
  google.maps.event.addDomListener(window, 'load', billingAddressget);
  google.maps.event.addDomListener(window, 'load', shippingAddressget);

  function billingAddressget() {
      var inputbranch = document.getElementById('billing_address');
      if (inputbranch)
      {
          //console.log(inputbranch);
          var autocomplete = new google.maps.places.Autocomplete(inputbranch);
          console.log(autocomplete);
          google.maps.event.addListener(autocomplete, 'place_changed', function () {
              var place = autocomplete.getPlace();
              if (autocomplete.getPlace() !== undefined) {
                  var saddress = autocomplete.getPlace().formatted_address;
                  var splAddress = saddress.split(",");
                  console.log(splAddress);
                  jQuery(inputbranch).val(splAddress[0]);
                  $("#branch_address").val(autocomplete.getPlace().formatted_address);
                  console.log(autocomplete.getPlace().formatted_address);
                  for (var i = 0; i < place.address_components.length; i++) {
                      //console.log(place.address_components[i].types);
                      //console.log(place.address_components[i]);
                      /*if(place.address_components[i].types[0] == "administrative_area_level_2") {
                          var city = place.address_components[i];
                          jQuery('#opc-billing #billing_city').val(city.long_name);
                          console.log(city);
                      }*/
                      if(place.address_components[i].types[0] == "locality") {
                          var city = place.address_components[i];
                          jQuery('#opc-billing #billing_city').val(city.long_name);
                          console.log(city);
                      }
                      if(place.address_components[i].types[0] == "country") {
                          var country = place.address_components[i];
                          jQuery('#opc-billing #billing_country').val(country.long_name);
                          jQuery('#opc-billing #billing_countryshort').val(country.short_name);
                          if(country.short_name == "CH") {
                              jQuery('.land-billing').val(country.short_name);
                          }
                          if(country.short_name == "LI") {
                              jQuery('.land-billing').val(country.short_name).change();
                              var nostates = '<option val="">Keine Kantone verfügbar</option>';
                              jQuery('.kanton-billing').empty().append(nostates);
                          }
                          //console.log(country);
                      }
                      //state update
                      if(place.address_components[i].types[0] == "administrative_area_level_1") {
                          var state = place.address_components[i];
                          jQuery('#opc-billing #billing_state').val(state.long_name);
                          jQuery('#opc-billing #billing_stateshort').val(state.short_name);
                          var states = jQuery('.chstates').html();
                          jQuery('.kanton-billing').empty().append(states).val(state.short_name).change();
                          //console.log(state);
                      }
                      if(place.address_components[i].types[0] == "postal_code") {
                          var postcode = place.address_components[i];
                          jQuery('#opc-billing #billing_postcode').val(postcode.long_name);
                          //console.log(postcode);
                      }
                  }
              }
          });
      }
  }
  function shippingAddressget() {
      var inputbranch = document.getElementById('shipping_address');
      if (inputbranch)
      {
          console.log(inputbranch);

          var autocomplete = new google.maps.places.Autocomplete(inputbranch);
          console.log(autocomplete);
          google.maps.event.addListener(autocomplete, 'place_changed', function () {
              var place = autocomplete.getPlace();
              if (autocomplete.getPlace() !== undefined) {
                  var saddress = autocomplete.getPlace().formatted_address;
                  var splAddress = saddress.split(",");
                  console.log(splAddress);
                  jQuery(inputbranch).val(splAddress[0]);
                  $("#branch_address").val(autocomplete.getPlace().formatted_address);
                  console.log(autocomplete.getPlace().formatted_address);
                  console.log(place.address_components);
                  for (var i = 0; i < place.address_components.length; i++) {
                      console.log(place.address_components[i].types);
                      console.log(place.address_components[i]);
                      /*if(place.address_components[i].types[0] == "administrative_area_level_2") {
                          var city = place.address_components[i];
                          jQuery('#opc-shipping #shipping_city').val(city.long_name);
                          console.log(city);
                      }*/
                      if(place.address_components[i].types[0] == "locality") {
                          var city = place.address_components[i];
                          jQuery('#opc-shipping #shipping_city').val(city.long_name);
                          console.log(city);
                      }
                      if(place.address_components[i].types[0] == "administrative_area_level_1") {
                          var state = place.address_components[i];
                          jQuery('#opc-shipping #shipping_state').val(state.long_name);
                          jQuery('#opc-shipping #shipping_stateshort').val(state.short_name);
                          var states = jQuery('.chstates').html();
                          jQuery('.kanton-shipping').empty().append(states).val(state.short_name).change();
                          console.log(state);
                      }
                      if(place.address_components[i].types[0] == "country") {
                          var country = place.address_components[i];
                          jQuery('#opc-shipping #shipping_country').val(country.long_name);
                          jQuery('#opc-shipping #shipping_countryshort').val(country.short_name);
                          if(country.short_name == "CH") {
                              jQuery('.land-shipping').val(country.short_name);
                          }
                          if(country.short_name == "LI") {
                              jQuery('.land-shipping').val(country.short_name).change();
                              var nostates = '<option val="">Keine Kantone verfügbar</option>';
                              jQuery('.kanton-shipping').empty().append(nostates);
                          }
                          console.log(country);
                      }
                      if(place.address_components[i].types[0] == "postal_code") {
                          var postcode = place.address_components[i];
                          jQuery('#opc-shipping #shipping_postcode').val(postcode.long_name);
                          console.log(postcode);
                      }
                  }
              }
          });
      }
  }

-->
</script>
</body>
</html>